<%- include('../header') %>

<div class="container">
  <h2 class="titulo-lista">ğŸ“œ Lista de AdoÃ§Ãµes</h2>

  <a href="/adocao/add" class="btn add-btn">â• Registrar Nova AdoÃ§Ã£o</a>

  <% if (!adocoes || adocoes.length === 0) { %>
    <p class="no-adocoes">Nenhuma adoÃ§Ã£o registrada.</p>
  <% } else { %>
    <div class="cards-container">
      <% adocoes.forEach(function(a){ %>
        <div class="card-item adocao-card">
          <div class="card-header">
            <h3>ğŸ¾ <%= a.animal ? a.animal.nome : '(Animal removido)' %></h3>
            <span class="status-tag">Adotado âœ…</span>
          </div>

          <div class="card-body">
            <p><strong>ğŸ‘¤ Adotante:</strong> <%= a.adotante ? a.adotante.nome : '(Adotante removido)' %></p>
            <p><strong>ğŸ“… Data da AdoÃ§Ã£o:</strong> <%= new Date(a.dataAdocao).toLocaleDateString() %></p>
            <p><strong>ğŸ“ ObservaÃ§Ãµes:</strong> <%= a.observacoes || 'Sem observaÃ§Ãµes' %></p>
          </div>

          <div class="card-actions">
            <a href="/adocao/edit/<%= a._id %>" class="btn action-btn edit">âœï¸ Editar</a>
            <a href="/adocao/delete/<%= a._id %>"
               class="btn action-btn delete"
               onclick="return confirm('Deseja excluir esta adoÃ§Ã£o?')">ğŸ—‘ï¸ Excluir</a>
          </div>
        </div>
      <% }) %>
    </div>
  <% } %>
</div>

<%- include('../footer') %>
